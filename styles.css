/* Minimal but nice styles from v10 + tweaks */
*{box-sizing:border-box}
:root{
  --bg:#101013; --text:#f7f7fb; --muted:#bfc3cf;
  --card:#161821; --line:#2a2e3a;
  --p1:#ffe4ec; --p2:#e7f7ff; --p3:#e8ffe7; --p4:#fff5e1;
  --acc:#ff7aa8;
}
html,body{height:100%} body{margin:0;font-family:'SF Pro Text',system-ui,Segoe UI,Roboto,'TH Sarabun New',Arial,sans-serif;background:linear-gradient(180deg,#14161d, #0d0f14);color:var(--text)}
header{position:sticky;top:0;z-index:10;padding:14px 16px;border-bottom:1px solid var(--line)}
.glass{backdrop-filter: saturate(1.4) blur(6px); background:rgba(22,24,33,.55)}
.title{display:flex;gap:8px;align-items:center} .title h1{margin:0;font-size:20px} .piglogo{font-size:22px}
.date-row{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
.btn{padding:8px 12px;border-radius:14px;border:0;background:var(--acc);color:#1c0f13;font-weight:800}
.btn.outline{background:transparent;color:var(--text);border:1px solid var(--line)}
main{padding:16px;display:flex;flex-direction:column;gap:16px}
.cards{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:12px;box-shadow:0 10px 30px rgba(0,0,0,.15)}
.card.pastel1{background:var(--p1);color:#6b1836} .card.pastel1 .value{color:#6b1836}
.card.pastel2{background:var(--p2);color:#14385b}
.card.pastel3{background:var(--p3);color:#1b4716}
.card.pastel4{background:var(--p4);color:#6b4b0f}
.card .label{opacity:.8;font-size:12px} .card .value{font-weight:900;font-size:22px}
.card .sub{font-size:12px;opacity:.8;margin-top:4px}
.bars .bar{margin:10px 0}
.bar-head{display:flex;justify-content:space-between;font-size:12px;color:var(--muted);margin-bottom:6px}
.progress{height:12px;background:#1a1d26;border-radius:999px;overflow:hidden;border:1px solid var(--line)}
.progress>div{height:100%;width:0%;background:linear-gradient(90deg,#ff7aa8,#ffc371);transition:width .25s}
.actions{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.action{padding:14px;border-radius:14px;border:1px solid var(--line);background:#182132;color:#fff;font-weight:800;letter-spacing:.2px;box-shadow:0 10px 24px rgba(0,0,0,.2)} .action.secondary{background:#151925}
h2{margin:8px 0}
.list .row{padding:12px;border-bottom:1px dashed var(--line);display:flex;justify-content:space-between;gap:8px;align-items:center}
.row .meta{font-size:12px;color:var(--muted)}
.row .btns{display:flex;gap:6px;align-items:center}
.row button.small{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#121620;color:#eee}
.month-summary{padding:12px;border:1px dashed var(--line);border-radius:12px;margin-bottom:8px;color:var(--muted);background:#11151f}
dialog{border:none;border-radius:16px;padding:16px;background:#161a24;color:#eef1ff;width:min(720px,94vw)}
dialog::backdrop{background:rgba(0,0,0,.55)}
.grid{display:grid;grid-template-columns:1fr;gap:10px;margin:10px 0}
menu{display:flex;justify-content:flex-end;gap:8px;padding:0;margin-top:8px}
.primary{background:var(--acc);color:#2a0f17;font-weight:900}
.secondary{border:1px solid var(--line)}
.chips{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0}
.chips button{padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#111622;color:#eee}
.pigcard{display:flex;align-items:center;gap:10px;padding:8px;border:1px dashed var(--line);border-radius:12px;background:#111520}
.pigicon{font-size:24px;filter: drop-shadow(0 2px 6px rgba(255,122,168,.35))}
.subtle{opacity:.85}
.kbd{font-family:ui-monospace,Menlo,monospace;background:#0d1117;border:1px solid #222;border-radius:8px;padding:2px 6px}

/* iOS-friendly tweaks */
.safetop{ padding-top: calc(env(safe-area-inset-top) + 14px); }
input, select { font-size: 16px; }
.btn, .action { min-height: 44px; }

/* Tabs */
.tabs{display:flex;gap:8px;margin-top:10px}
.tab{padding:8px 12px;border-radius:12px;border:1px solid var(--line);background:#151925;color:var(--text)}
.tab.active{background:var(--acc);color:#1c0f13;font-weight:900}
.hide{display:none}

/* Order styles */
.order-item{display:grid;grid-template-columns:1fr 80px 100px 110px auto;gap:8px;align-items:center}
.badge{display:inline-block;border:1px solid var(--line);border-radius:999px;padding:2px 8px;font-size:12px;margin-left:6px}
/* Status chips */
.badge.sent,.badge.paid{background:transparent;color:var(--muted);border-color:var(--line)}
.badge.sent-active,.badge.paid-active{background:#2ecc71;color:#0b1a10;border-color:transparent;font-weight:800}
/* Row highlight when both done */
.row.done{outline:1px solid rgba(46,204,113,.35);box-shadow:0 0 0 2px rgba(46,204,113,.15) inset;border-radius:12px}

.tag{font-size:12px;opacity:.9;margin-left:8px;padding:2px 8px;border:1px solid var(--line);border-radius:999px}

/* Fund dialog tabs */
.tabline{display:flex;gap:8px;margin:6px 0}
.tabline .mini{padding:6px 10px;border-radius:10px;border:1px solid var(--line);background:#151925;color:#fff}
.tabline .mini.active{background:var(--acc);color:#1c0f13;font-weight:900}

/* Expense category badge */
.cat-badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:11px;margin-left:6px;border:1px solid var(--line)}
.cat-0{background:#2a2f45;color:#dfe6ff}
.cat-1{background:#2a3f36;color:#dbffea}
.cat-2{background:#3e2b3d;color:#ffdff7}
.cat-3{background:#423222;color:#ffe9d1}
.cat-4{background:#2f2f2f;color:#f0f0f0}
.cat-5{background:#2e3942;color:#dbf2ff}
.cat-6{background:#2c3a2a;color:#e6ffe1}
.cat-7{background:#3b2b2b;color:#ffe2e2}

/* Charts (Summary) */
.chart-controls{display:flex;gap:8px;margin:2px 0 4px}
.chart-controls .mini{padding:6px 10px;border-radius:10px;border:1px solid var(--line);background:#151925;color:#fff}
.chart-controls .mini.active{background:var(--acc);color:#1c0f13;font-weight:900}
.chart-grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:8px}
@media(min-width:900px){.chart-grid{grid-template-columns:2fr 1fr}}
.chart-card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:12px;box-shadow:0 10px 30px rgba(0,0,0,.15)}
.chart-title{font-weight:800;margin-bottom:8px;color:#e7e9f7}
.chart{width:100%;height:auto;display:block;background:#10141e;border-radius:12px;border:1px solid var(--line)}
.legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px;color:var(--muted);font-size:12px}
.legend .item{display:flex;align-items:center;gap:6px}
.legend .swatch{width:10px;height:10px;border-radius:3px;display:inline-block;border:1px solid var(--line)}
.svg-grid line{stroke:#2a2e3a;stroke-width:1;opacity:.7}
.svg-axis text{fill:#bfc3cf;font-size:11px}
.bar-rect{fill:url(#gradBar);opacity:.95}
.line-path{fill:none;stroke:#ffb3c1;stroke-width:2.2}
.drawer-line{fill:none;stroke:#8df0ff;stroke-width:2.2;stroke-dasharray:4 4}
.dot{fill:#ffd1dc;stroke:#633;stroke-width:.6}
.break-dot{fill:#7affb6;stroke:#0c3;stroke-width:1}

/* Pretty tones for progress bars */
.progress.pig > div{ background:linear-gradient(90deg,#7ad1ff,#2b6d9a); }
.progress.all > div{ background:linear-gradient(90deg,#a7f3d0,#34d399); }
.progress.pigitem > div{ background:linear-gradient(90deg,#fcd34d,#f59e0b); }

/* Drawer layout fix */
.drawer-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 8px;
  margin-top: 8px;
}
.drawer-grid .cell {
  padding: 6px 4px;
  font-size: 14px;
}
.drawer-grid .hdr {
  font-weight: 700;
  color: var(--muted);
}

/* Donut chart slices colors */
.slice0 { fill: #9cc9ff; }
.slice1 { fill: #ffd1a8; }
.slice2 { fill: #c8ffa8; }
.slice3 { fill: #e7b3ff; }
.slice4 { fill: #ffa8c6; }


/* === Responsive fixes (mobile) === */
dialog {
  max-width: 100%;
  width: 95vw;
}
.grid input, .grid select, .grid label {
  max-width: 100%;
}
.list .row { 
  flex-wrap: wrap;
}
.order-item {
  grid-template-columns: 1fr 80px 100px auto;
}
@media(max-width: 640px){
  .cards { grid-template-columns: 1fr; }
  .actions { grid-template-columns: 1fr 1fr; }
  .order-item { grid-template-columns: 1fr 1fr; }
  .card .value { font-size: 20px; }
  .date-row { flex-wrap: wrap; }
  .chart { width: 100%; height: auto; }
  .drawer-grid { grid-template-columns: 1fr 1fr 1fr; }
  header .title h1 { font-size: 18px; }
}
@media(max-width: 420px){
  .actions { grid-template-columns: 1fr; }
  .order-item { grid-template-columns: 1fr; }
  .order-item .btns { justify-content: flex-start; }
}


/* === Action buttons redesign & responsiveness === */
.actions{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:12px;
}
.action{
  padding:16px 18px;
  border-radius:16px;
  border:1px solid var(--line);
  background:#182132;
  color:#fff;
  font-weight:800;
  letter-spacing:.2px;
  min-height:56px;
  width:100%;
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}
/* Color each primary action */
.actions .action:nth-child(1){ /* + ขาย */
  background:linear-gradient(180deg,#3dd1ff,#1a7bb8);
  border:0;
  color:#081016;
}
.actions .action:nth-child(2){ /* + ออเดอร์ */
  background:linear-gradient(180deg,#b58cff,#6b65ff);
  border:0;
  color:#0f0c22;
}
.actions .action:nth-child(3){ /* + ค่าใช้จ่าย */
  background:linear-gradient(180deg,#ffd37a,#ff9f43);
  border:0;
  color:#3a1a00;
}
.actions .action:nth-child(4){ /* เพิ่มทุน */
  background:linear-gradient(180deg,#7affb6,#34d399);
  border:0;
  color:#052014;
}
.actions .action:nth-child(5){ /* ปิดวัน / ส่งออก */
  background:linear-gradient(180deg,#2b3242,#1a1f2b);
  color:#e7ebff;
}
.action:active{ transform: translateY(1px); }

/* Bigger top .btn too */
.btn{ padding:10px 14px; border-radius:16px; font-weight:800; min-height:46px; }

/* Prevent overflow on small screens */
.actions .action, .btn, input, select { max-width:100%; }

/* Larger small buttons for touch */
.row button.small{ min-height:40px; padding:8px 12px; border-radius:12px; }

/* --- Sales 'checked' status --- */
.badge.checked{background:transparent;color:var(--muted);border-color:var(--line)}
.badge.checked-active{background:#2ecc71;color:#0b1a10;border-color:transparent;font-weight:800}
